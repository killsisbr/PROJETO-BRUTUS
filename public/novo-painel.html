<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Novo Painel - Restaurante</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="/socket.io/socket.io.js"></script>
  <style>
    :root {
      --primary: #8A2BE2;
      --secondary: #4B0082;
      --accent: #00BFFF;
      --success: #32CD32;
      --warning: #FFD700;
      --danger: #FF4500;
      --dark: #121212;
      --darker: #0a0a0a;
      --light: #f8f9fa;
      --sidebar-width: 260px;
      --header-height: 70px;
      --transition: all 0.3s ease;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, var(--darker) 0%, var(--dark) 100%);
      color: var(--light);
      min-height: 100vh;
      display: flex;
      overflow-x: hidden;
    }

    /* Animações */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    /* Sidebar */
    .sidebar {
      width: var(--sidebar-width);
      background: rgba(10, 10, 10, 0.95);
      backdrop-filter: blur(25px);
      border-right: 1px solid rgba(138, 43, 226, 0.3);
      padding: 20px 0;
      display: flex;
      flex-direction: column;
      height: 100vh;
      position: fixed;
      z-index: 1000;
      box-shadow: 5px 0 25px rgba(0, 0, 0, 0.5);
      transition: var(--transition);
    }

    .logo-container {
      text-align: center;
      padding: 0 20px 25px;
      border-bottom: 1px solid rgba(138, 43, 226, 0.3);
      margin-bottom: 25px;
    }

    .logo {
      font-size: 2.2rem;
      background: linear-gradient(135deg, var(--accent), var(--primary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 8px;
      animation: pulse 2s infinite;
    }

    .logo-text {
      font-size: 1.1rem;
      font-weight: 600;
      background: linear-gradient(135deg, var(--light), #ddd);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .nav-menu {
      flex: 1;
      overflow-y: auto;
    }

    .nav-section {
      margin-bottom: 20px;
    }

    .nav-section-title {
      padding: 10px 20px;
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: rgba(255, 255, 255, 0.5);
      font-weight: 600;
    }

    .nav-item {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 14px 20px;
      margin: 5px 15px;
      border-radius: 12px;
      cursor: pointer;
      transition: var(--transition);
      text-decoration: none;
      color: rgba(255, 255, 255, 0.7);
      position: relative;
      overflow: hidden;
    }

    .nav-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 3px;
      height: 100%;
      background: var(--accent);
      transform: scaleY(0);
      transition: var(--transition);
    }

    .nav-item:hover {
      background: rgba(138, 43, 226, 0.2);
      color: #fff;
      transform: translateX(5px);
    }

    .nav-item:hover::before {
      transform: scaleY(1);
    }

    .nav-item.active {
      background: rgba(138, 43, 226, 0.3);
      color: #fff;
      box-shadow: 0 5px 15px rgba(138, 43, 226, 0.2);
    }

    .nav-item.active::before {
      transform: scaleY(1);
    }

    .nav-item i {
      font-size: 1.3rem;
      width: 24px;
      text-align: center;
    }

    .sidebar-footer {
      padding: 20px;
      border-top: 1px solid rgba(138, 43, 226, 0.3);
      text-align: center;
    }

    .sidebar-footer p {
      font-size: 0.8rem;
      opacity: 0.7;
      margin: 5px 0;
    }

    /* Main Content */
    .main-content {
      flex: 1;
      margin-left: var(--sidebar-width);
      padding: 25px;
      min-height: 100vh;
      transition: var(--transition);
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 0;
      margin-bottom: 30px;
      border-bottom: 1px solid rgba(138, 43, 226, 0.3);
    }

    .header h2 {
      font-size: 2.2rem;
      font-weight: 800;
      background: linear-gradient(135deg, var(--accent), var(--primary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .header-actions {
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 12px 22px;
      border: none;
      border-radius: 12px;
      font-weight: 600;
      font-size: 15px;
      cursor: pointer;
      transition: var(--transition);
      text-decoration: none;
      color: white;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
      background: rgba(255, 255, 255, 0.2);
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border: 1px solid rgba(138, 43, 226, 0.5);
    }

    .btn-success {
      background: linear-gradient(135deg, var(--success), #228B22);
      border: 1px solid rgba(50, 205, 50, 0.5);
    }

    .btn-info {
      background: linear-gradient(135deg, var(--accent), #1E90FF);
      border: 1px solid rgba(0, 191, 255, 0.5);
    }

    .btn-warning {
      background: linear-gradient(135deg, var(--warning), #FFA500);
      border: 1px solid rgba(255, 215, 0, 0.5);
      color: var(--dark);
    }

    .btn-danger {
      background: linear-gradient(135deg, var(--danger), #FF6347);
      border: 1px solid rgba(255, 69, 0, 0.5);
    }

    /* Stats Cards - Design Moderno */
    .stats-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 25px;
      margin-bottom: 35px;
    }

    .stat-card {
      background: rgba(30, 30, 46, 0.7);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(138, 43, 226, 0.3);
      border-radius: 18px;
      padding: 25px;
      text-align: center;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }

    .stat-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, var(--primary), var(--accent));
    }

    .stat-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
      border-color: rgba(138, 43, 226, 0.6);
    }

    .stat-icon {
      width: 70px;
      height: 70px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 20px;
      border-radius: 50%;
      font-size: 2rem;
      background: rgba(138, 43, 226, 0.2);
      color: var(--accent);
      border: 2px solid rgba(138, 43, 226, 0.3);
    }

    .stat-value {
      font-size: 2.5rem;
      font-weight: 800;
      margin: 15px 0;
      background: linear-gradient(135deg, var(--accent), var(--primary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .stat-label {
      font-size: 1.1rem;
      font-weight: 600;
      opacity: 0.9;
      margin-bottom: 15px;
    }

    .stat-trend {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      font-size: 0.95rem;
      padding: 8px 15px;
      border-radius: 20px;
      background: rgba(255, 255, 255, 0.1);
      width: fit-content;
      margin: 0 auto;
    }

    .trend-up {
      color: var(--success);
      background: rgba(50, 205, 50, 0.1);
    }

    .trend-down {
      color: var(--danger);
      background: rgba(255, 69, 0, 0.1);
    }

    /* Content Sections */
    .content-section {
      background: rgba(30, 30, 46, 0.7);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(138, 43, 226, 0.3);
      border-radius: 18px;
      padding: 25px;
      margin-bottom: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      animation: fadeIn 0.5s ease;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
      flex-wrap: wrap;
      gap: 15px;
    }

    .section-header h3 {
      font-size: 1.6rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 12px;
      background: linear-gradient(135deg, var(--light), #ddd);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .section-actions {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    /* Orders Grid - Design Moderno */
    .orders-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
      gap: 25px;
    }

    .order-card {
      background: rgba(25, 25, 35, 0.8);
      border: 1px solid rgba(138, 43, 226, 0.2);
      border-radius: 16px;
      padding: 22px;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
    }

    .order-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      transform: scaleX(0);
      transition: var(--transition);
    }

    .order-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      border-color: rgba(138, 43, 226, 0.4);
    }

    .order-card:hover::before {
      transform: scaleX(1);
    }

    .order-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px dashed rgba(255, 255, 255, 0.1);
    }

    .order-info h4 {
      font-size: 1.3rem;
      margin-bottom: 8px;
      color: var(--accent);
    }

    .order-info p {
      font-size: 0.95rem;
      opacity: 0.8;
      margin: 3px 0;
    }

    .order-status {
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .status-pending {
      background: rgba(255, 215, 0, 0.2);
      color: var(--warning);
      border: 1px solid rgba(255, 215, 0, 0.3);
    }

    .status-processing {
      background: rgba(0, 191, 255, 0.2);
      color: var(--accent);
      border: 1px solid rgba(0, 191, 255, 0.3);
    }

    .status-ready {
      background: rgba(50, 205, 50, 0.2);
      color: var(--success);
      border: 1px solid rgba(50, 205, 50, 0.3);
    }

    .order-items {
      margin-bottom: 20px;
    }

    .order-item {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px dashed rgba(255, 255, 255, 0.05);
    }

    .order-item:last-child {
      border-bottom: none;
    }

    .order-item-name {
      font-size: 0.95rem;
    }

    .order-item-price {
      font-weight: 600;
      color: var(--accent);
    }

    .order-total {
      display: flex;
      justify-content: space-between;
      padding-top: 15px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      font-weight: 700;
      font-size: 1.2rem;
      color: var(--accent);
    }

    .order-actions {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-top: 20px;
    }

    .order-actions .btn {
      padding: 10px;
      font-size: 0.9rem;
      justify-content: center;
    }

    /* Search and Filters */
    .search-filters {
      display: flex;
      gap: 20px;
      margin-bottom: 25px;
      flex-wrap: wrap;
    }

    .search-box {
      position: relative;
      flex: 1;
      min-width: 280px;
    }

    .search-box input {
      width: 100%;
      padding: 15px 20px 15px 50px;
      border: 2px solid rgba(138, 43, 226, 0.3);
      border-radius: 14px;
      background: rgba(20, 20, 30, 0.7);
      color: white;
      font-size: 16px;
      transition: var(--transition);
    }

    .search-box input:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(0, 191, 255, 0.3);
    }

    .search-box i {
      position: absolute;
      left: 20px;
      top: 50%;
      transform: translateY(-50%);
      color: rgba(255, 255, 255, 0.7);
      font-size: 18px;
    }

    .filter-select {
      padding: 15px 20px;
      border: 2px solid rgba(138, 43, 226, 0.3);
      border-radius: 14px;
      background: rgba(20, 20, 30, 0.7);
      color: white;
      font-size: 16px;
      min-width: 200px;
      transition: var(--transition);
    }

    .filter-select:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(0, 191, 255, 0.3);
    }

    /* Toast Notifications */
    .toast-container {
      position: fixed;
      top: 25px;
      right: 25px;
      z-index: 9999;
    }

    .toast {
      background: rgba(30, 30, 46, 0.95);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(138, 43, 226, 0.5);
      border-radius: 14px;
      padding: 18px 22px;
      margin-bottom: 15px;
      color: white;
      display: flex;
      align-items: center;
      gap: 12px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
      animation: fadeIn 0.3s ease;
      min-width: 320px;
      transform: translateX(100%);
      transition: transform 0.3s ease;
    }

    .toast.show {
      transform: translateX(0);
    }

    .toast.success {
      border-left: 4px solid var(--success);
    }

    .toast.error {
      border-left: 4px solid var(--danger);
    }

    .toast.info {
      border-left: 4px solid var(--accent);
    }

    .toast.warning {
      border-left: 4px solid var(--warning);
      color: var(--dark);
    }

    /* Loading Spinner */
    .spinner {
      display: inline-block;
      width: 24px;
      height: 24px;
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: #fff;
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Empty State */
    .empty-state {
      text-align: center;
      padding: 80px 30px;
      color: rgba(255, 255, 255, 0.6);
    }

    .empty-state i {
      font-size: 4rem;
      margin-bottom: 25px;
      opacity: 0.3;
      color: var(--primary);
    }

    .empty-state h3 {
      font-size: 1.8rem;
      margin-bottom: 15px;
      color: var(--accent);
    }

    .empty-state p {
      font-size: 1.1rem;
      max-width: 550px;
      margin: 0 auto;
      line-height: 1.6;
    }

    /* Responsive */
    @media (max-width: 1200px) {
      .orders-container {
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      }
    }

    @media (max-width: 992px) {
      .sidebar {
        width: 80px;
      }
      
      .sidebar .logo-text,
      .sidebar .nav-section-title,
      .nav-item span {
        display: none;
      }
      
      .nav-item {
        justify-content: center;
        padding: 16px;
        margin: 5px 10px;
      }
      
      .main-content {
        margin-left: 80px;
      }
      
      .stats-container {
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      }
    }

    @media (max-width: 768px) {
      .sidebar {
        width: 100%;
        height: auto;
        position: relative;
        flex-direction: row;
        padding: 15px;
      }
      
      .logo-container {
        padding: 0 15px;
        border-bottom: none;
        border-right: 1px solid rgba(138, 43, 226, 0.3);
        margin-bottom: 0;
        margin-right: 15px;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      
      .logo {
        font-size: 1.8rem;
        margin-bottom: 0;
      }
      
      .nav-menu {
        display: flex;
        overflow-x: auto;
        flex: 1;
      }
      
      .nav-section {
        margin-bottom: 0;
        display: flex;
        gap: 5px;
      }
      
      .nav-section-title {
        display: none;
      }
      
      .nav-item {
        margin: 0 5px;
        padding: 12px;
        flex-direction: column;
        gap: 6px;
        font-size: 0.8rem;
        min-width: 70px;
      }
      
      .sidebar-footer {
        display: none;
      }
      
      .main-content {
        margin-left: 0;
        padding: 20px 15px;
      }
      
      .header {
        flex-direction: column;
        gap: 20px;
        text-align: center;
      }
      
      .header-actions {
        width: 100%;
        justify-content: center;
      }
      
      .stats-container {
        grid-template-columns: 1fr;
      }
      
      .orders-container {
        grid-template-columns: 1fr;
      }
      
      .search-filters {
        flex-direction: column;
      }
      
      .search-box {
        min-width: 100%;
      }
      
      .filter-select {
        min-width: 100%;
      }
    }

    /* Dark Mode Toggle */
    .theme-toggle {
      position: fixed;
      bottom: 25px;
      right: 25px;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: rgba(138, 43, 226, 0.3);
      border: 2px solid var(--primary);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 1000;
      transition: var(--transition);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }

    .theme-toggle:hover {
      background: rgba(138, 43, 226, 0.5);
      transform: rotate(15deg);
    }

    /* Quick Stats Bar */
    .quick-stats {
      display: flex;
      gap: 15px;
      margin-bottom: 25px;
      flex-wrap: wrap;
    }

    .quick-stat {
      background: rgba(30, 30, 46, 0.7);
      border: 1px solid rgba(138, 43, 226, 0.3);
      border-radius: 14px;
      padding: 15px 20px;
      display: flex;
      align-items: center;
      gap: 12px;
      flex: 1;
      min-width: 200px;
      transition: var(--transition);
    }

    .quick-stat:hover {
      transform: translateY(-3px);
      border-color: rgba(138, 43, 226, 0.6);
    }

    .quick-stat-icon {
      width: 45px;
      height: 45px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      background: rgba(138, 43, 226, 0.2);
    }

    .quick-stat-content h4 {
      font-size: 1.8rem;
      margin-bottom: 5px;
      color: var(--accent);
    }

    .quick-stat-content p {
      font-size: 0.9rem;
      opacity: 0.8;
      margin: 0;
    }
  </style>
</head>
<body>
  <!-- Sidebar -->
  <div class="sidebar">
    <div class="logo-container">
      <div class="logo">
        <i class="fas fa-utensils"></i>
      </div>
      <div class="logo-text">Restaurante</div>
    </div>
    
    <div class="nav-menu">
      <div class="nav-section">
        <div class="nav-section-title">Principal</div>
        <a href="#" class="nav-item active" data-view="dashboard">
          <i class="fas fa-chart-line"></i>
          <span>Dashboard</span>
        </a>
        <a href="#" class="nav-item" data-view="orders">
          <i class="fas fa-shopping-cart"></i>
          <span>Pedidos</span>
        </a>
        <a href="#" class="nav-item" data-view="analytics">
          <i class="fas fa-chart-bar"></i>
          <span>Análise</span>
        </a>
      </div>
      
      <div class="nav-section">
        <div class="nav-section-title">Gerenciamento</div>
        <a href="#" class="nav-item" data-view="menu">
          <i class="fas fa-book"></i>
          <span>Cardápio</span>
        </a>
        <a href="#" class="nav-item" data-view="customers">
          <i class="fas fa-users"></i>
          <span>Clientes</span>
        </a>
        <a href="#" class="nav-item" data-view="database">
          <i class="fas fa-database"></i>
          <span>Banco de Dados</span>
        </a>
      </div>
      
      <div class="nav-section">
        <div class="nav-section-title">Configurações</div>
        <a href="#" class="nav-item" data-view="messages">
          <i class="fas fa-comments"></i>
          <span>Mensagens</span>
        </a>
        <a href="#" class="nav-item" data-view="settings">
          <i class="fas fa-cog"></i>
          <span>Configurações</span>
        </a>
        <a href="#" class="nav-item" data-view="help">
          <i class="fas fa-question-circle"></i>
          <span>Ajuda</span>
        </a>
      </div>
    </div>
    
    <div class="sidebar-footer">
      <p>v3.0.0</p>
      <p>© 2024 Restaurante</p>
      <p><i class="fas fa-circle" style="color: #32CD32; font-size: 0.6rem;"></i> Online</p>
    </div>
  </div>
  
  <!-- Main Content -->
  <div class="main-content">
    <div class="header">
      <h2><i class="fas fa-chart-line"></i> Dashboard Inteligente</h2>
      <div class="header-actions">
        <button class="btn btn-primary" id="btn-refresh">
          <i class="fas fa-sync-alt"></i> Atualizar
        </button>
        <button class="btn btn-info" id="btn-whatsapp">
          <i class="fab fa-whatsapp"></i> WhatsApp
        </button>
        <button class="btn btn-success" id="btn-new-order">
          <i class="fas fa-plus"></i> Novo Pedido
        </button>
        <button class="btn btn-danger" id="btn-logout">
          <i class="fas fa-sign-out-alt"></i> Sair
        </button>
      </div>
    </div>
    
    <!-- Quick Stats Bar -->
    <div class="quick-stats">
      <div class="quick-stat">
        <div class="quick-stat-icon" style="background: rgba(0, 191, 255, 0.2); color: var(--accent);">
          <i class="fas fa-shopping-cart"></i>
        </div>
        <div class="quick-stat-content">
          <h4 id="quick-orders">0</h4>
          <p>Pedidos Hoje</p>
        </div>
      </div>
      
      <div class="quick-stat">
        <div class="quick-stat-icon" style="background: rgba(50, 205, 50, 0.2); color: var(--success);">
          <i class="fas fa-money-bill-wave"></i>
        </div>
        <div class="quick-stat-content">
          <h4 id="quick-revenue">R$ 0,00</h4>
          <p>Receita Hoje</p>
        </div>
      </div>
      
      <div class="quick-stat">
        <div class="quick-stat-icon" style="background: rgba(255, 215, 0, 0.2); color: var(--warning);">
          <i class="fas fa-users"></i>
        </div>
        <div class="quick-stat-content">
          <h4 id="quick-customers">0</h4>
          <p>Clientes Ativos</p>
        </div>
      </div>
      
      <div class="quick-stat">
        <div class="quick-stat-icon" style="background: rgba(255, 69, 0, 0.2); color: var(--danger);">
          <i class="fas fa-truck"></i>
        </div>
        <div class="quick-stat-content">
          <h4 id="quick-deliveries">0</h4>
          <p>Entregas Pendentes</p>
        </div>
      </div>
    </div>
    
    <!-- Stats Cards -->
    <div class="stats-container">
      <div class="stat-card">
        <div class="stat-icon">
          <i class="fas fa-shopping-cart"></i>
        </div>
        <div class="stat-value" id="total-orders">0</div>
        <div class="stat-label">Pedidos Hoje</div>
        <div class="stat-trend trend-up">
          <i class="fas fa-arrow-up"></i> 15% desde ontem
        </div>
      </div>
      
      <div class="stat-card">
        <div class="stat-icon">
          <i class="fas fa-money-bill-wave"></i>
        </div>
        <div class="stat-value" id="total-revenue">R$ 0,00</div>
        <div class="stat-label">Receita Hoje</div>
        <div class="stat-trend trend-up">
          <i class="fas fa-arrow-up"></i> 12% desde ontem
        </div>
      </div>
      
      <div class="stat-card">
        <div class="stat-icon">
          <i class="fas fa-users"></i>
        </div>
        <div class="stat-value" id="active-customers">0</div>
        <div class="stat-label">Clientes Ativos</div>
        <div class="stat-trend trend-down">
          <i class="fas fa-arrow-down"></i> 5% desde ontem
        </div>
      </div>
      
      <div class="stat-card">
        <div class="stat-icon">
          <i class="fas fa-truck"></i>
        </div>
        <div class="stat-value" id="pending-deliveries">0</div>
        <div class="stat-label">Entregas Pendentes</div>
        <div class="stat-trend">
          <i class="fas fa-equals"></i> 0% desde ontem
        </div>
      </div>
    </div>
    
    <!-- Recent Orders -->
    <div class="content-section">
      <div class="section-header">
        <h3><i class="fas fa-history"></i> Pedidos Recentes</h3>
        <div class="section-actions">
          <button class="btn btn-success" id="btn-new-order-section">
            <i class="fas fa-plus"></i> Novo Pedido
          </button>
          <button class="btn btn-info" id="btn-view-all">
            <i class="fas fa-eye"></i> Ver Todos
          </button>
        </div>
      </div>
      
      <div class="search-filters">
        <div class="search-box">
          <i class="fas fa-search"></i>
          <input type="text" id="search-orders" placeholder="Buscar pedidos por cliente ou ID...">
        </div>
        <select class="filter-select" id="filter-status">
          <option value="">Todos os Status</option>
          <option value="pending">Pendente</option>
          <option value="processing">Em Preparo</option>
          <option value="ready">Pronto</option>
          <option value="delivered">Entregue</option>
        </select>
      </div>
      
      <div class="orders-container" id="orders-container">
        <div class="empty-state">
          <i class="fas fa-inbox"></i>
          <h3>Nenhum pedido encontrado</h3>
          <p>Comece criando um novo pedido ou aguarde novos pedidos dos clientes.</p>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Toast Container -->
  <div class="toast-container" id="toast-container"></div>
  
  <!-- Theme Toggle -->
  <div class="theme-toggle" id="theme-toggle">
    <i class="fas fa-moon"></i>
  </div>
  
  <script>
    // Inicialização do Socket.IO
    const socket = io();
    
    // Elementos DOM
    const navItems = document.querySelectorAll('.nav-item');
    const mainContent = document.querySelector('.main-content');
    const btnRefresh = document.getElementById('btn-refresh');
    const btnWhatsapp = document.getElementById('btn-whatsapp');
    const btnLogout = document.getElementById('btn-logout');
    const btnNewOrder = document.getElementById('btn-new-order');
    const btnNewOrderSection = document.getElementById('btn-new-order-section');
    const btnViewAll = document.getElementById('btn-view-all');
    const searchOrders = document.getElementById('search-orders');
    const filterStatus = document.getElementById('filter-status');
    const ordersContainer = document.getElementById('orders-container');
    const toastContainer = document.getElementById('toast-container');
    const themeToggle = document.getElementById('theme-toggle');
    
    // Dados em memória
    let ordersData = [];
    let currentView = 'dashboard';
    
    // Inicialização
    document.addEventListener('DOMContentLoaded', () => {
      initializeApp();
      setupEventListeners();
      loadDashboardData();
    });
    
    // Função de inicialização
    function initializeApp() {
      // Conectar ao WebSocket
      setupSocketConnection();
      
      // Carregar dados iniciais
      loadOrders();
    }
    
    // Configuração da conexão WebSocket
    function setupSocketConnection() {
      socket.on('connect', () => {
        showToast('Conectado ao servidor', 'success');
      });
      
      socket.on('disconnect', () => {
        showToast('Desconectado do servidor', 'warning');
      });
      
      socket.on('initial', (data) => {
        console.log('Dados iniciais recebidos:', data);
        if (data && data.carrinhos) {
          ordersData = Object.values(data.carrinhos);
          renderOrders();
        }
      });
      
      socket.on('carrinho:update', (data) => {
        console.log('Atualização de carrinho recebida:', data);
        updateOrderInList(data);
        renderOrders();
      });
    }
    
    // Configuração dos event listeners
    function setupEventListeners() {
      // Navegação
      navItems.forEach(item => {
        item.addEventListener('click', (e) => {
          e.preventDefault();
          const view = item.dataset.view;
          changeView(view);
        });
      });
      
      // Botões de ação
      btnRefresh.addEventListener('click', refreshData);
      btnWhatsapp.addEventListener('click', openWhatsappQR);
      btnLogout.addEventListener('click', logout);
      btnNewOrder.addEventListener('click', createNewOrder);
      btnNewOrderSection.addEventListener('click', createNewOrder);
      btnViewAll.addEventListener('click', viewAllOrders);
      
      // Filtros
      searchOrders.addEventListener('input', filterOrders);
      filterStatus.addEventListener('change', filterOrders);
      
      // Theme toggle
      themeToggle.addEventListener('click', toggleTheme);
    }
    
    // Função para mudar de view
    function changeView(view) {
      // Atualizar navegação ativa
      navItems.forEach(item => {
        item.classList.remove('active');
        if (item.dataset.view === view) {
          item.classList.add('active');
        }
      });
      
      // Atualizar título
      const titles = {
        'dashboard': 'Dashboard Inteligente',
        'orders': 'Gerenciamento de Pedidos',
        'analytics': 'Análise de Dados',
        'menu': 'Gerenciamento do Cardápio',
        'customers': 'Gerenciamento de Clientes',
        'messages': 'Gerenciamento de Mensagens',
        'database': 'Gerenciamento do Banco de Dados',
        'settings': 'Configurações do Sistema',
        'help': 'Central de Ajuda'
      };
      
      document.querySelector('.header h2').innerHTML = 
        `<i class="fas fa-${getViewIcon(view)}"></i> ${titles[view] || view}`;
      
      currentView = view;
      
      // Carregar dados específicos da view
      switch(view) {
        case 'dashboard':
          loadDashboardData();
          break;
        case 'orders':
          loadOrders();
          break;
        case 'analytics':
          loadAnalytics();
          break;
        case 'menu':
          loadMenu();
          break;
        case 'customers':
          loadCustomers();
          break;
        case 'messages':
          loadMessages();
          break;
        case 'database':
          loadDatabase();
          break;
        case 'settings':
          loadSettings();
          break;
        case 'help':
          loadHelp();
          break;
      }
    }
    
    // Função para obter ícone da view
    function getViewIcon(view) {
      const icons = {
        'dashboard': 'chart-line',
        'orders': 'shopping-cart',
        'analytics': 'chart-bar',
        'menu': 'book',
        'customers': 'users',
        'messages': 'comments',
        'database': 'database',
        'settings': 'cog',
        'help': 'question-circle'
      };
      return icons[view] || 'circle';
    }
    
    // Função para carregar dados do dashboard
    async function loadDashboardData() {
      try {
        // Carregar estatísticas
        const statsResponse = await fetch('/api/estatisticas');
        const statsData = await statsResponse.json();
        
        if (statsData) {
          document.getElementById('total-orders').textContent = statsData.pedidosHoje || 0;
          document.getElementById('quick-orders').textContent = statsData.pedidosHoje || 0;
          
          const revenue = statsData.totalMensagens || 0;
          document.getElementById('total-revenue').textContent = 
            `R$ ${parseFloat(revenue).toFixed(2).replace('.', ',')}`;
          document.getElementById('quick-revenue').textContent = 
            `R$ ${parseFloat(revenue).toFixed(2).replace('.', ',')}`;
            
          document.getElementById('active-customers').textContent = statsData.usuariosAtivos || 0;
          document.getElementById('quick-customers').textContent = statsData.usuariosAtivos || 0;
          
          document.getElementById('pending-deliveries').textContent = 0; // Implementar
          document.getElementById('quick-deliveries').textContent = 0; // Implementar
        }
        
        // Carregar pedidos recentes
        loadOrders();
      } catch (error) {
        console.error('Erro ao carregar dados do dashboard:', error);
        showToast('Erro ao carregar dados do dashboard', 'error');
      }
    }
    
    // Função para carregar pedidos
    async function loadOrders() {
      try {
        // Em um sistema real, isso viria da API
        // Por enquanto, vamos simular dados
        const mockOrders = [
          {
            id: '5511999999999',
            customer: 'João Silva',
            items: [
              { name: 'X-Burger Premium', quantity: 2, price: 28.50 },
              { name: 'Coca-Cola 2L', quantity: 1, price: 12.00 },
              { name: 'Batata Frita', quantity: 1, price: 15.00 }
            ],
            total: 84.00,
            status: 'processing',
            time: '14:45'
          },
          {
            id: '5511888888888',
            customer: 'Maria Santos',
            items: [
              { name: 'X-Salada Especial', quantity: 1, price: 25.00 },
              { name: 'Suco de Laranja', quantity: 2, price: 8.00 }
            ],
            total: 41.00,
            status: 'ready',
            time: '14:30'
          },
          {
            id: '5511777777777',
            customer: 'Carlos Oliveira',
            items: [
              { name: 'X-Frango Gourmet', quantity: 1, price: 22.00 },
              { name: 'Água com Gás', quantity: 1, price: 5.00 },
              { name: 'Sorvete', quantity: 1, price: 10.00 }
            ],
            total: 37.00,
            status: 'pending',
            time: '14:20'
          },
          {
            id: '5511666666666',
            customer: 'Ana Costa',
            items: [
              { name: 'Combo Família', quantity: 1, price: 55.00 },
              { name: 'Refrigerante Lata', quantity: 3, price: 6.00 }
            ],
            total: 73.00,
            status: 'processing',
            time: '14:10'
          }
        ];
        
        ordersData = mockOrders;
        renderOrders();
      } catch (error) {
        console.error('Erro ao carregar pedidos:', error);
        showToast('Erro ao carregar pedidos', 'error');
      }
    }
    
    // Função para renderizar pedidos
    function renderOrders() {
      if (ordersData.length === 0) {
        ordersContainer.innerHTML = `
          <div class="empty-state">
            <i class="fas fa-inbox"></i>
            <h3>Nenhum pedido encontrado</h3>
            <p>Comece criando um novo pedido ou aguarde novos pedidos dos clientes.</p>
          </div>
        `;
        return;
      }
      
      const filteredOrders = filterOrdersData();
      
      if (filteredOrders.length === 0) {
        ordersContainer.innerHTML = `
          <div class="empty-state">
            <i class="fas fa-filter"></i>
            <h3>Nenhum pedido encontrado</h3>
            <p>Nenhum pedido corresponde aos filtros aplicados.</p>
          </div>
        `;
        return;
      }
      
      ordersContainer.innerHTML = filteredOrders.map(order => `
        <div class="order-card">
          <div class="order-header">
            <div class="order-info">
              <h4>${order.customer}</h4>
              <p>ID: ${order.id}</p>
              <p><i class="far fa-clock"></i> ${order.time}</p>
            </div>
            <div class="order-status status-${order.status}">
              <i class="fas fa-${getStatusIcon(order.status)}"></i>
              ${getStatusText(order.status)}
            </div>
          </div>
          
          <div class="order-items">
            ${order.items.map(item => `
              <div class="order-item">
                <span class="order-item-name">${item.quantity}x ${item.name}</span>
                <span class="order-item-price">R$ ${(item.quantity * item.price).toFixed(2).replace('.', ',')}</span>
              </div>
            `).join('')}
          </div>
          
          <div class="order-total">
            <span>Total:</span>
            <span>R$ ${order.total.toFixed(2).replace('.', ',')}</span>
          </div>
          
          <div class="order-actions">
            <button class="btn btn-info" onclick="viewOrder('${order.id}')">
              <i class="fas fa-eye"></i>
            </button>
            <button class="btn btn-success" onclick="processOrder('${order.id}')">
              <i class="fas fa-check"></i>
            </button>
            <button class="btn btn-danger" onclick="cancelOrder('${order.id}')">
              <i class="fas fa-times"></i>
            </button>
          </div>
        </div>
      `).join('');
    }
    
    // Função para filtrar pedidos
    function filterOrdersData() {
      const searchTerm = searchOrders.value.toLowerCase();
      const statusFilter = filterStatus.value;
      
      return ordersData.filter(order => {
        const matchesSearch = !searchTerm || 
          order.customer.toLowerCase().includes(searchTerm) ||
          order.id.includes(searchTerm);
        
        const matchesStatus = !statusFilter || order.status === statusFilter;
        
        return matchesSearch && matchesStatus;
      });
    }
    
    // Função para atualizar um pedido na lista
    function updateOrderInList(orderData) {
      // Implementar lógica de atualização
      console.log('Atualizando pedido:', orderData);
    }
    
    // Funções auxiliares para status
    function getStatusText(status) {
      const statusTexts = {
        'pending': 'Pendente',
        'processing': 'Em Preparo',
        'ready': 'Pronto',
        'delivered': 'Entregue'
      };
      return statusTexts[status] || status;
    }
    
    function getStatusIcon(status) {
      const statusIcons = {
        'pending': 'hourglass-half',
        'processing': 'utensils',
        'ready': 'check-circle',
        'delivered': 'truck'
      };
      return statusIcons[status] || 'circle';
    }
    
    // Funções de ação
    function refreshData() {
      showToast('Atualizando dados...', 'info');
      switch(currentView) {
        case 'dashboard':
          loadDashboardData();
          break;
        case 'orders':
          loadOrders();
          break;
        default:
          loadDashboardData();
      }
    }
    
    function openWhatsappQR() {
      showToast('Abrindo QR Code do WhatsApp...', 'info');
      // Implementar abertura do modal de QR Code
      window.open('/gerenciar-banco.html', '_blank');
    }
    
    function logout() {
      if (confirm('Tem certeza que deseja sair?')) {
        showToast('Saindo do sistema...', 'info');
        // Implementar logout real
        setTimeout(() => {
          window.location.href = '/';
        }, 1000);
      }
    }
    
    function createNewOrder() {
      showToast('Criando novo pedido...', 'info');
      // Implementar criação de novo pedido
    }
    
    function viewAllOrders() {
      changeView('orders');
    }
    
    function viewOrder(orderId) {
      showToast(`Visualizando pedido ${orderId}`, 'info');
      // Implementar visualização detalhada do pedido
    }
    
    function processOrder(orderId) {
      showToast(`Processando pedido ${orderId}`, 'success');
      // Implementar processamento do pedido
    }
    
    function cancelOrder(orderId) {
      if (confirm(`Tem certeza que deseja cancelar o pedido ${orderId}?`)) {
        showToast(`Pedido ${orderId} cancelado`, 'warning');
        // Implementar cancelamento do pedido
      }
    }
    
    // Funções para carregar outras views (placeholders)
    function loadAnalytics() {
      showToast('Carregando análise de dados...', 'info');
    }
    
    function loadMenu() {
      showToast('Carregando gerenciamento de cardápio...', 'info');
    }
    
    function loadCustomers() {
      showToast('Carregando gerenciamento de clientes...', 'info');
    }
    
    function loadMessages() {
      showToast('Carregando gerenciamento de mensagens...', 'info');
    }
    
    function loadDatabase() {
      showToast('Carregando gerenciamento do banco de dados...', 'info');
      window.open('/gerenciar-banco.html', '_blank');
    }
    
    function loadSettings() {
      showToast('Carregando configurações do sistema...', 'info');
    }
    
    function loadHelp() {
      showToast('Carregando central de ajuda...', 'info');
    }
    
    // Função para mostrar notificações
    function showToast(message, type = 'info') {
      const toast = document.createElement('div');
      toast.className = `toast ${type} show`;
      
      const icon = {
        'success': 'fa-check-circle',
        'error': 'fa-exclamation-circle',
        'warning': 'fa-exclamation-triangle',
        'info': 'fa-info-circle'
      }[type] || 'fa-info-circle';
      
      toast.innerHTML = `
        <i class="fas ${icon}"></i>
        <span>${message}</span>
      `;
      
      toastContainer.appendChild(toast);
      
      // Remover toast após 4 segundos
      setTimeout(() => {
        toast.classList.remove('show');
        setTimeout(() => {
          if (toast.parentNode) {
            toast.parentNode.removeChild(toast);
          }
        }, 300);
      }, 4000);
    }
    
    // Funções para filtros em tempo real
    function filterOrders() {
      renderOrders();
    }
    
    // Theme toggle function
    function toggleTheme() {
      const icon = themeToggle.querySelector('i');
      if (icon.classList.contains('fa-moon')) {
        icon.classList.remove('fa-moon');
        icon.classList.add('fa-sun');
        document.body.style.background = 'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)';
        document.body.style.color = '#333';
      } else {
        icon.classList.remove('fa-sun');
        icon.classList.add('fa-moon');
        document.body.style.background = 'linear-gradient(135deg, var(--darker) 0%, var(--dark) 100%)';
        document.body.style.color = 'var(--light)';
      }
    }
    
    // Adicionar animação de entrada aos elementos
    document.addEventListener('DOMContentLoaded', () => {
      const elements = document.querySelectorAll('.stat-card, .order-card, .content-section');
      elements.forEach((el, index) => {
        el.style.animationDelay = `${index * 0.1}s`;
      });
    });
  </script>
</body>
</html>